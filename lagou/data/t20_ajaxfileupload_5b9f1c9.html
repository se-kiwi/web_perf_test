define("common/components/jquery-ajaxfileupload/ajaxfileupload",["require","exports","module"],function(){jQuery.extend({handleError:function(s,a,c,e){s.error&&s.error.call(s.context||s,a,c,e),s.global&&(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[a,s,e])},createUploadIframe:function(a,c){var y="jUploadFrame"+a,j='<iframe id="'+y+'" name="'+y+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof c?j+=' src="javascript:false"':"string"==typeof c&&(j+=' src="'+c+'"')),j+=" />",jQuery(j).appendTo(document.body),jQuery("#"+y).get(0)},createUploadForm:function(a,c,y){var j="jUploadForm"+a,Q="jUploadFile"+a,g=jQuery('<form  action="" method="POST" name="'+j+'" id="'+j+'" enctype="multipart/form-data"></form>');if(y)for(var i in y)jQuery('<input type="hidden" name="'+i+'" value="'+y[i]+'" />').appendTo(g);var v=jQuery("#"+c),T=jQuery(v).clone();return jQuery(v).attr("id",Q),jQuery(v).before(T),jQuery(v).appendTo(g),jQuery(g).css("position","absolute"),jQuery(g).css("top","-1200px"),jQuery(g).css("left","-1200px"),jQuery(g).appendTo("body"),g},ajaxFileUpload:function(s){s=jQuery.extend({},jQuery.ajaxSettings,s);var a=(new Date).getTime(),c=jQuery.createUploadForm(a,s.fileElementId,"undefined"==typeof s.data?!1:s.data),y=(jQuery.createUploadIframe(a,s.secureuri),"jUploadFrame"+a),j="jUploadForm"+a;s.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var Q=!1,g={};s.global&&jQuery.event.trigger("ajaxSend",[g,s]);var v=function(a){var j,v,T,b=document.getElementById(y),h=s.dataType;try{b.contentWindow?j=b.contentWindow.document:b.contentDocument&&(j=b.contentDocument.document),j&&(T=j.getElementsByTagName("pre")[0],v=j.getElementsByTagName("body")[0],"html"===h||"script"===h?g.responseText=j.body.innerHTML||null:T?g.responseText=T.textContent||T.innerText:v&&(g.responseText=v.textContent||v.innerText),g.responseXML=j.XMLDocument||j)}catch(e){jQuery.handleError(s,g,null,e)}if(g||"timeout"==a){Q=!0;var E;try{if(E="timeout"!=a?"success":"error","error"!=E){var U=jQuery.uploadHttpData(g,s.dataType);s.success&&s.success(U,E),s.global&&jQuery.event.trigger("ajaxSuccess",[g,s])}else jQuery.handleError(s,g,E)}catch(e){E="error",jQuery.handleError(s,g,E,e)}s.global&&jQuery.event.trigger("ajaxComplete",[g,s]),s.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),s.complete&&s.complete(g,E),jQuery(b).unbind(),setTimeout(function(){try{jQuery(b).remove(),jQuery(c).remove()}catch(e){jQuery.handleError(s,g,null,e)}},100),g=null}};s.timeout>0&&setTimeout(function(){Q||v("timeout")},s.timeout);try{var c=jQuery("#"+j);jQuery(c).attr("action",s.url),jQuery(c).attr("method","POST"),jQuery(c).attr("target",y),c.encoding?jQuery(c).attr("encoding","multipart/form-data"):jQuery(c).attr("enctype","multipart/form-data"),jQuery(c).submit()}catch(e){jQuery.handleError(s,g,null,e)}return jQuery("#"+y).load(v),{abort:function(){}}},uploadHttpData:function(r,a){var c=!a;return c="xml"==a||c?r.responseXML:r.responseText,"script"==a&&jQuery.globalEval(c),"json"==a&&(c=jQuery.parseJSON(jQuery(c).text())),"html"==a&&jQuery("<div>").html(c).evalScripts(),c}})});